<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>WDV321 Advanced Javascript - JSON</title>

	<script
  src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
  crossorigin="anonymous"></script>

	<script src="createJSONArray.js"></script>

	<script>
	create_and_students();


	var javascript_data;

	function access_local_storage(){
		var javascript_data_object = JSON.parse(localStorage.getItem("allstudents"));
	 javascript_data = javascript_data_object["student"]

	}

	access_local_storage();

	function create_card(){
		for(var x in javascript_data) {

			new_div = document.createElement("div");
			new_h3_student_id = document.createElement("h3");
			new_p_gpa = document.createElement("p");
			new_courses_p = document.createElement("p");
			new_ul = document.createElement("ul");


			new_h3_student_id.innerHTML = "Student ID: " +javascript_data[x].student_id;
			new_p_gpa.innerHTML = "Student GPA: " + javascript_data[x].student_gpa;

			for(var y in javascript_data[x].student_courses[y]) {
				var new_li = document.createElement("li");
				new_li.appendChild(document.createTextNode(javascript_data[x].student_courses[y]));
				new_ul.appendChild(new_li);
			}

			new_div.appendChild(new_h3_student_id);
			new_div.appendChild(new_p_gpa);
			new_div.appendChild(new_ul)

			document.querySelector("#studentcard").appendChild(new_div);




		}
	}


	</script>
<!--
    
    Instructions:
    	1. Incorporate the createJSONArray.js file into this page as an external javascript file.
        2. Access the JSON object in local storage and convert it into a javascript object.
        3. Use the information in the object to complete a student card for EACH student object.
        4. Account for the fact that there could be a random number of student objects. 
        5. Use Jquery commands whenever possible.  
-->

<style>
	.studentCard	{
		width:200px;
		box-sizing:border-box;
		background-color:lightblue;
		padding-left:5px;
		padding-top:3px;
		border:thin solid blue;
		box-shadow: 2px 2px 2px grey;		
	}
	
	.studentCard h3	{
		margin:0px;	
	}
</style>



</head>

<body onload="create_card()">
	<h1>WDV321 Advanced Javascript</h1>
    <h2>Unit-8 JSON Objects</h2>
    <h3>Creating and consuming a JSON object</h3>

<div class="studentCard" id="studentcard">


</div>    


</body>
</html>
